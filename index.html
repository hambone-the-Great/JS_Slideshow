<!DOCTYPE html>
<html>
    <head>

        <script src="Slideshow.js"></script>
        <link href="slideshow.css" rel="stylesheet" type="text/css" />
    </head>
    <body>
        <h1>Welcome to JS Slideshow</h1>
        <p>JS Slideshow is a simple and lightweight Javascript Slideshow.</p>   
        <p>Here is an example of JS Slideshow:</p>

        <div id="mySlideshow" class="slideshow"></div>

        <script>            

            let slides = [
                {
                    Text: "North Dakota",
                    Image: "https://upload.wikimedia.org/wikipedia/commons/e/ee/Flag_of_North_Dakota.svg"
                },
                {
                    Text: "Minnesota",
                    Image: "https://upload.wikimedia.org/wikipedia/commons/b/b9/Flag_of_Minnesota.svg"
                },
                {
                    Text: "California",
                    Image: "https://upload.wikimedia.org/wikipedia/commons/0/01/Flag_of_California.svg"
                },
                {
                    Text: "Arizona",
                    Image: "https://upload.wikimedia.org/wikipedia/commons/9/9d/Flag_of_Arizona.svg"
                },
                {
                    Text: "Colorado",
                    Image: "https://upload.wikimedia.org/wikipedia/commons/4/46/Flag_of_Colorado.svg"
                },

                {
                    Text: "South Carolina",
                    Image: "https://upload.wikimedia.org/wikipedia/commons/6/69/Flag_of_South_Carolina.svg"
                },
                {
                    Text: "Wyoming",
                    Image: "https://upload.wikimedia.org/wikipedia/commons/b/bc/Flag_of_Wyoming.svg"
                },
                {
                    Text: "Texas",
                    Image: "https://upload.wikimedia.org/wikipedia/commons/f/f7/Flag_of_Texas.svg"
                },
                {
                    Text: "Florida",
                    Image: "https://upload.wikimedia.org/wikipedia/commons/f/f7/Flag_of_Florida.svg"
                },
                {
                    Text: "New Hampshire",
                    Image: "https://upload.wikimedia.org/wikipedia/commons/2/28/Flag_of_New_Hampshire.svg"
                },
                {
                    Text: "Pew Pew Pew",
                    Image: "https://upload.wikimedia.org/wikipedia/commons/d/d8/Gadsden_flag.svg"
                },

            ];

            let slideshow = new Slideshow("mySlideshow");
            slideshow.BackgroundColor = "#333";
            slideshow.ShowControls = true; 

            for (let i = 0; i < slides.length; i++) {

                preloadImage(slides[i].Image);

                let slide = new Slide();               
                slide.Width = "100%";
                slide.Height = "100%";
                slide.TextContent = slides[i].Text;
                slide.TextColor = "#fff";
                slide.TextHolder.classList.add("dropshadow");
                slide.ImageUrl = slides[i].Image;
                slide.ImageSize = "auto 80%";
                slide.ImagePosition = "bottom";
                slide.AnimationDuration = 1000;
                slide.Animation1Delay = 1000;
                slide.Animation1 = slide.FadeIn;
                slide.Animation2 = slide.FadeOut;
                slideshow.AddSlide(slide); 
            }

                       

            slideshow.Start();

            //does this really do anything? found it on stackoverflow....sus, very sus. 
            function preloadImage(url) {

                let list = [];
                let img = new Image();
                img.onload = function () {
                    list.push(img); 
                }
                img.src = url;
                
                list.pop(img);                
            }


        </script>

    </body>
</html>

